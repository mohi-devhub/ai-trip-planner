import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI__AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details. Place Image Url. Geo Coordinates ticket Pricing ,rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\",\n    \"hotels\": [\n      {\n        \"hotelName\": \"Circus Circus Hotel & Casino\",\n        \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$40 - $80 per night\",\n        \"hotelImageUrl\": \"https://example.com/circus_circus.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1368,\n          \"longitude\": -115.1654\n        },\n        \"rating\": 3.5,\n        \"description\": \"Budget-friendly option with on-site attractions like the Adventuredome theme park. Slightly dated but offers good value for money.\"\n      },\n      {\n        \"hotelName\": \"OYO Hotel and Casino Las Vegas\",\n          \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n        \"price\": \"$35 - $70 per night\",\n        \"hotelImageUrl\": \"https://example.com/oyo_las_vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1028,\n            \"longitude\": -115.1694\n          },\n        \"rating\": 3.0,\n        \"description\": \"A budget hotel near the Strip, offering basic amenities and a casino. Suitable for travelers looking for affordable accommodation.\"\n      },\n      {\n        \"hotelName\": \"Strat Hotel, Casino & Skypod\",\n        \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n        \"price\": \"$50 - $90 per night\",\n         \"hotelImageUrl\": \"https://example.com/strat_hotel.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1496,\n          \"longitude\": -115.1558\n        },\n        \"rating\": 3.8,\n        \"description\": \"Located at the north end of the Strip, it offers good value and a unique experience with the Stratosphere Tower. Rooms are decent and good for budget.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"theme\": \"Exploring the Strip (South)\",\n        \"bestTimeToVisit\": \"Afternoon and Evening\",\n        \"places\": [\n          {\n            \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n             \"placeDetails\": \"Stunning indoor botanical display that changes with the seasons. Free to visit.\",\n            \"placeImageUrl\": \"https://example.com/bellagio_garden.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1126,\n              \"longitude\": -115.1743\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.8,\n            \"timeTravel\": \"10-20 minutes (depending on hotel location)\"\n          },\n           {\n            \"placeName\": \"Bellagio Fountains\",\n             \"placeDetails\": \"World-famous synchronized water show. Free to view from the strip.\",\n            \"placeImageUrl\": \"https://example.com/bellagio_fountains.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1129,\n              \"longitude\": -115.1741\n            },\n             \"ticketPricing\": \"Free\",\n            \"rating\": 4.9,\n              \"timeTravel\": \"0 minutes\"\n          },\n          {\n            \"placeName\": \"Paris Las Vegas\",\n              \"placeDetails\": \"View of the Eiffel Tower replica and other French-themed attractions. Check for free viewing areas.\",\n            \"placeImageUrl\": \"https://example.com/paris_lasvegas.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1124,\n              \"longitude\": -115.1714\n            },\n            \"ticketPricing\": \"Free to walk around (Tower entry is paid)\",\n            \"rating\": 4.5,\n              \"timeTravel\":\"5 minutes (walk from Bellagio)\"\n          },\n            {\n            \"placeName\": \"Mirage Volcano\",\n               \"placeDetails\": \"A free show of fire and water erupting from a volcano.\",\n              \"placeImageUrl\": \"https://example.com/mirage_volcano.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1208,\n              \"longitude\": -115.1732\n            },\n             \"ticketPricing\":\"Free\",\n            \"rating\": 4.6,\n                \"timeTravel\": \"10 minutes (walk from Paris)\"\n          }\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Fremont Street Experience & Downtown\",\n        \"bestTimeToVisit\": \"Evening (for Viva Vision light show)\",\n        \"places\": [\n          {\n            \"placeName\": \"Fremont Street Experience\",\n             \"placeDetails\": \"Pedestrian mall with a massive video screen canopy. Free to wander.\",\n            \"placeImageUrl\": \"https://example.com/fremont_street.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1697,\n              \"longitude\": -115.1413\n            },\n            \"ticketPricing\": \"Free\",\n            \"rating\": 4.7,\n              \"timeTravel\":\"20-30 minutes by car or bus from the strip.\"\n          },\n          {\n              \"placeName\": \"Container Park\",\n              \"placeDetails\": \"Unique shopping and entertainment area constructed from shipping containers. Free to enter.\",\n            \"placeImageUrl\": \"https://example.com/container_park.jpg\",\n              \"geoCoordinates\": {\n                \"latitude\": 36.1671,\n                \"longitude\": -115.1403\n                },\n               \"ticketPricing\":\"Free\",\n              \"rating\": 4.4,\n              \"timeTravel\": \"5 minutes (walk from Fremont Street)\"\n           },\n           {\n             \"placeName\": \"Mob Museum\",\n               \"placeDetails\": \"If your budget allows, this is a great historical attraction about organized crime. This has an entry fee.\",\n            \"placeImageUrl\":\"https://example.com/mob_museum.jpg\",\n            \"geoCoordinates\":{\n              \"latitude\": 36.1696,\n               \"longitude\": -115.1431\n              },\n            \"ticketPricing\": \"$30 per person (approx)\",\n              \"rating\": 4.6,\n             \"timeTravel\":\"5 minutes (walk from Container Park)\"\n          }\n        ]\n      },\n        \"day3\":{\n        \"theme\": \"Exploring the Strip (North) & Relaxation\",\n        \"bestTimeToVisit\":\"Morning and Afternoon\",\n           \"places\":[\n            {\n            \"placeName\": \"The Venetian & Grand Canal Shoppes\",\n             \"placeDetails\": \"Experience an indoor replica of Venice with canals and gondolas. Free to walk around.\",\n               \"placeImageUrl\": \"https://example.com/venetian.jpg\",\n              \"geoCoordinates\": {\n                \"latitude\": 36.1217,\n                \"longitude\": -115.1692\n              },\n             \"ticketPricing\": \"Free (Gondola rides are paid)\",\n              \"rating\": 4.6,\n                \"timeTravel\": \"10-20 minutes (depending on your hotel)\"\n              },\n           {\n              \"placeName\":\"The LINQ Promenade\",\n              \"placeDetails\":\"Open-air retail, dining, and entertainment district. Free to walk around.\",\n                \"placeImageUrl\": \"https://example.com/linq_promenade.jpg\",\n              \"geoCoordinates\": {\n                \"latitude\": 36.1171,\n                \"longitude\": -115.1692\n                  },\n                 \"ticketPricing\":\"Free\",\n              \"rating\": 4.5,\n              \"timeTravel\":\"5 minutes (walk from The Venetian)\"\n           },\n            {\n             \"placeName\": \"High Roller Observation Wheel\",\n              \"placeDetails\":\"Enjoy panoramic views of the Strip. This is a paid attraction.\",\n              \"placeImageUrl\": \"https://example.com/high_roller.jpg\",\n              \"geoCoordinates\":{\n                \"latitude\": 36.1163,\n                \"longitude\":-115.1685\n                 },\n            \"ticketPricing\": \"$25-30 per person (approx)\",\n              \"rating\": 4.4,\n                \"timeTravel\":\"0 minutes (located in LINQ)\"\n           },\n            {\n              \"placeName\": \"Free Pool Time\",\n               \"placeDetails\":\"Relax by your hotel's pool (if available) or find a free pool access at another resort to relax before heading home.\",\n                 \"placeImageUrl\": \"https://example.com/pool_relaxation.jpg\",\n              \"geoCoordinates\":{\n                 \"latitude\": 36.1368,\n                \"longitude\": -115.1654\n                },\n             \"ticketPricing\":\"Free or minimal\",\n               \"rating\": 4.2,\n                 \"timeTravel\": \"varies\"\n           }\n         ]\n        }\n    }\n  }\n}\n```"},
          ],
        },
      ],
    });
  
   
  
